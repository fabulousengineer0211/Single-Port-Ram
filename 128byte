library ieee;
use ieee.std_logic_1164.all;

entity single_port_ram is

port(data : in std_logic_vector(7 downto 0);
wr : in std_logic;
clk : in std_logic;
addr : in natural range 0 to 15;
q : out std_logic_vector(7 downto 0));
end entity;

architecture behav of single_port_ram is

-- Making a complete memory matrix of 64 rows with 8 bit/row.
subtype word_t is std_logic_vector(7 downto 0);
type memory_t is array(15 downto 0) of word_t;

signal ram : memory_t;
signal addr_regis : natural range 0 to 15;

begin
 process(clk)
 begin
 if(rising_edge(clk)) then
 if(wr = '1') then
 ram(addr) <= data;
 end if;
 
 addr_regis <= addr;
 end if;
 end process;
 
 q <= ram(addr_regis);
 end behav;
 
